<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Authentication page with Sessin Storge</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
</head>
<style>
    #container{
        /* text-align: center; */
        margin:50px 0px 50px 150px;
        /* border: 2px solid black; */
    }
    .blue{
        color: rgb(110, 110, 202);
        text-transform: uppercase;
        letter-spacing: 3px;
        font-weight: bolder;
        font-size: 20px;
    }
    .red{
        color: red;
        font-size: 30px;
    }
</style>
<body>
<div id="container">
    <h3 class="blue">Authentication Page with Session Storage</h3>
    <h4 class="red">Log In</h4>
    <form >
    User Name: <br>
    <input type="text" id="userName" placeholder="Enter your name here">
    <br> <br> <br> <br>
    Password:  <br>
    <input type="text" id="password" placeholder="Enter your password here">
    <br>
    <button type="submit" class="btn btn-success mt-3" onclick="myfunction1(event)">LogIn</button>
    <button type="password" class="btn btn-danger mt-3" onclick="myfunction2()"><a href="./RegisterPage.html"> Register</a></button>
</form>

</div>
    <script>
        function myfunction1(e){
            e.preventDefault();
            var name = document.getElementById("userName").value;
            var pass = document.getElementById("password").value;
            if(name ===""){
                alert("Enter Name ");
                return;
            }
            else if( pass===""){
                alert("Enter password");
                return;
            }
            else if(name ==="" && pass===""){
                alert("Enter Name and password");
                return;
            }
            else{
                console.log("LoggIn")
            }
            console.log(name);
            console.log(pass);

            let data = JSON.parse(window.sessionStorage.getItem('userinfo'));
            if(data == null){
                alert("Register yourself First");
            }
            else{
                if(name == data.name && pass == data.pass){
                    window.location.href = "./index.html" 
                 }
                else{
                    alert("Invalid Name or Password");
                    return;
                }
            }
            


        
    }



    </script>

</body>
</html>